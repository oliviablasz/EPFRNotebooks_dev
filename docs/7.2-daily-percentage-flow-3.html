<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="7.2 Daily Percentage Flow | EPFR Notebooks" />
<meta property="og:type" content="book" />

<meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
<meta name="github-repo" content="oliviablasz/EPFRNotebooks_v2" />

<meta name="author" content="Olivia Blaszkowski" />

<meta name="date" content="2022-10-26" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>">

<title>7.2 Daily Percentage Flow | EPFR Notebooks</title>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.23/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<link rel="stylesheet" href="toc.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#introduction" id="toc-introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li class="has-sub"><a href="2-required-r-libraries.html#required-r-libraries" id="toc-required-r-libraries"><span class="toc-section-number">2</span> Required R Libraries</a>
<ul>
<li><a href="2.1-epfr-library.html#epfr-library" id="toc-epfr-library"><span class="toc-section-number">2.1</span> EPFR Library</a></li>
<li><a href="2.2-rcurl.html#rcurl" id="toc-rcurl"><span class="toc-section-number">2.2</span> RCurl</a></li>
</ul></li>
<li class="has-sub"><a href="3-flow-percentage-country-strategy.html#flow-percentage-country-strategy" id="toc-flow-percentage-country-strategy"><span class="toc-section-number">3</span> Flow-Percentage Country Strategy</a>
<ul>
<li><a href="3.1-overview.html#overview" id="toc-overview"><span class="toc-section-number">3.1</span> Overview</a></li>
<li class="has-sub"><a href="3.2-daily-percentage-flow.html#daily-percentage-flow" id="toc-daily-percentage-flow"><span class="toc-section-number">3.2</span> Daily Percentage Flow</a>
<ul>
<li><a href="3.2-daily-percentage-flow.html#aggregations" id="toc-aggregations"><span class="toc-section-number">3.2.1</span> Aggregations</a></li>
<li><a href="3.2-daily-percentage-flow.html#calculation" id="toc-calculation"><span class="toc-section-number">3.2.2</span> Calculation</a></li>
<li><a href="3.2-daily-percentage-flow.html#flow-file" id="toc-flow-file"><span class="toc-section-number">3.2.3</span> Flow File</a></li>
<li><a href="3.2-daily-percentage-flow.html#return-file" id="toc-return-file"><span class="toc-section-number">3.2.4</span> Return File</a></li>
</ul></li>
<li class="has-sub"><a href="3.3-strategy-implementation.html#strategy-implementation" id="toc-strategy-implementation"><span class="toc-section-number">3.3</span> Strategy Implementation</a>
<ul>
<li><a href="3.3-strategy-implementation.html#compounding-flows" id="toc-compounding-flows"><span class="toc-section-number">3.3.1</span> Compounding Flows</a></li>
<li><a href="3.3-strategy-implementation.html#ranking-countries" id="toc-ranking-countries"><span class="toc-section-number">3.3.2</span> Ranking Countries</a></li>
<li><a href="3.3-strategy-implementation.html#model" id="toc-model"><span class="toc-section-number">3.3.3</span> Model</a></li>
<li><a href="3.3-strategy-implementation.html#preformance" id="toc-preformance"><span class="toc-section-number">3.3.4</span> Preformance</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="4-multi-asset-strategy.html#multi-asset-strategy" id="toc-multi-asset-strategy"><span class="toc-section-number">4</span> Multi-Asset Strategy</a>
<ul>
<li><a href="4.1-overview-1.html#overview-1" id="toc-overview-1"><span class="toc-section-number">4.1</span> Overview</a></li>
<li class="has-sub"><a href="4.2-daily-percentage-flow-1.html#daily-percentage-flow-1" id="toc-daily-percentage-flow-1"><span class="toc-section-number">4.2</span> Daily Percentage Flow</a>
<ul>
<li><a href="4.2-daily-percentage-flow-1.html#aggregations-1" id="toc-aggregations-1"><span class="toc-section-number">4.2.1</span> Aggregations</a></li>
<li><a href="4.2-daily-percentage-flow-1.html#calculation-1" id="toc-calculation-1"><span class="toc-section-number">4.2.2</span> Calculation</a></li>
<li><a href="4.2-daily-percentage-flow-1.html#flow-file-1" id="toc-flow-file-1"><span class="toc-section-number">4.2.3</span> Flow File</a></li>
<li><a href="4.2-daily-percentage-flow-1.html#return-file-1" id="toc-return-file-1"><span class="toc-section-number">4.2.4</span> Return File</a></li>
</ul></li>
<li class="has-sub"><a href="4.3-strategy-implementation-1.html#strategy-implementation-1" id="toc-strategy-implementation-1"><span class="toc-section-number">4.3</span> Strategy Implementation</a>
<ul>
<li><a href="4.3-strategy-implementation-1.html#compounding-flows-1" id="toc-compounding-flows-1"><span class="toc-section-number">4.3.1</span> Compounding Flows</a></li>
<li><a href="4.3-strategy-implementation-1.html#return-file-2" id="toc-return-file-2"><span class="toc-section-number">4.3.2</span> Return file</a></li>
<li><a href="4.3-strategy-implementation-1.html#ranking-asset-classes" id="toc-ranking-asset-classes"><span class="toc-section-number">4.3.3</span> Ranking Asset Classes</a></li>
<li><a href="4.3-strategy-implementation-1.html#model-1" id="toc-model-1"><span class="toc-section-number">4.3.4</span> Model</a></li>
<li><a href="4.3-strategy-implementation-1.html#preformance-1" id="toc-preformance-1"><span class="toc-section-number">4.3.5</span> Preformance</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="5-fx-strategy.html#fx-strategy" id="toc-fx-strategy"><span class="toc-section-number">5</span> FX Strategy</a>
<ul>
<li><a href="5.1-overview-2.html#overview-2" id="toc-overview-2"><span class="toc-section-number">5.1</span> Overview</a></li>
<li class="has-sub"><a href="5.2-daily-percentage-flow-2.html#daily-percentage-flow-2" id="toc-daily-percentage-flow-2"><span class="toc-section-number">5.2</span> Daily Percentage Flow</a>
<ul>
<li><a href="5.2-daily-percentage-flow-2.html#aggregations-2" id="toc-aggregations-2"><span class="toc-section-number">5.2.1</span> Aggregations</a></li>
<li><a href="5.2-daily-percentage-flow-2.html#calculation-2" id="toc-calculation-2"><span class="toc-section-number">5.2.2</span> Calculation</a></li>
<li><a href="5.2-daily-percentage-flow-2.html#flow-file-2" id="toc-flow-file-2"><span class="toc-section-number">5.2.3</span> Flow File</a></li>
<li><a href="5.2-daily-percentage-flow-2.html#return-file-3" id="toc-return-file-3"><span class="toc-section-number">5.2.4</span> Return File</a></li>
</ul></li>
<li class="has-sub"><a href="5.3-strategy-implementation-2.html#strategy-implementation-2" id="toc-strategy-implementation-2"><span class="toc-section-number">5.3</span> Strategy Implementation</a>
<ul>
<li><a href="5.3-strategy-implementation-2.html#compounding-flows-2" id="toc-compounding-flows-2"><span class="toc-section-number">5.3.1</span> Compounding Flows</a></li>
<li><a href="5.3-strategy-implementation-2.html#ranking-currencies" id="toc-ranking-currencies"><span class="toc-section-number">5.3.2</span> Ranking Currencies</a></li>
<li><a href="5.3-strategy-implementation-2.html#model-2" id="toc-model-2"><span class="toc-section-number">5.3.3</span> Model</a></li>
<li><a href="5.3-strategy-implementation-2.html#preformance-2" id="toc-preformance-2"><span class="toc-section-number">5.3.4</span> Preformance</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="6-activepassive-country-strategy.html#activepassive-country-strategy" id="toc-activepassive-country-strategy"><span class="toc-section-number">6</span> Active/Passive Country Strategy</a>
<ul>
<li><a href="6.1-overview-3.html#overview-3" id="toc-overview-3"><span class="toc-section-number">6.1</span> Overview</a></li>
<li class="has-sub"><a href="6.2-activepassive-indicator.html#activepassive-indicator" id="toc-activepassive-indicator"><span class="toc-section-number">6.2</span> Active/Passive Indicator</a>
<ul>
<li><a href="6.2-activepassive-indicator.html#aggregations-3" id="toc-aggregations-3"><span class="toc-section-number">6.2.1</span> Aggregations</a></li>
<li><a href="6.2-activepassive-indicator.html#calculation-3" id="toc-calculation-3"><span class="toc-section-number">6.2.2</span> Calculation</a></li>
<li><a href="6.2-activepassive-indicator.html#flow-file-3" id="toc-flow-file-3"><span class="toc-section-number">6.2.3</span> Flow File</a></li>
<li><a href="6.2-activepassive-indicator.html#return-file-4" id="toc-return-file-4"><span class="toc-section-number">6.2.4</span> Return File</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="7-flow-percentage-dm-rates-strategy.html#flow-percentage-dm-rates-strategy" id="toc-flow-percentage-dm-rates-strategy"><span class="toc-section-number">7</span> Flow-Percentage DM Rates Strategy</a>
<ul>
<li><a href="7.1-overview-4.html#overview-4" id="toc-overview-4"><span class="toc-section-number">7.1</span> Overview</a></li>
<li class="has-sub"><a href="7.2-daily-percentage-flow-3.html#daily-percentage-flow-3" id="toc-daily-percentage-flow-3"><span class="toc-section-number">7.2</span> Daily Percentage Flow</a>
<ul>
<li><a href="7.2-daily-percentage-flow-3.html#aggregations-4" id="toc-aggregations-4"><span class="toc-section-number">7.2.1</span> Aggregations</a></li>
<li><a href="7.2-daily-percentage-flow-3.html#calculation-4" id="toc-calculation-4"><span class="toc-section-number">7.2.2</span> Calculation</a></li>
<li><a href="7.2-daily-percentage-flow-3.html#flow-file-4" id="toc-flow-file-4"><span class="toc-section-number">7.2.3</span> Flow File</a></li>
<li><a href="7.2-daily-percentage-flow-3.html#return-file-5" id="toc-return-file-5"><span class="toc-section-number">7.2.4</span> Return File</a></li>
</ul></li>
<li class="has-sub"><a href="7.3-strategy-implementation-3.html#strategy-implementation-3" id="toc-strategy-implementation-3"><span class="toc-section-number">7.3</span> Strategy Implementation</a>
<ul>
<li><a href="7.3-strategy-implementation-3.html#compounding-flows-3" id="toc-compounding-flows-3"><span class="toc-section-number">7.3.1</span> Compounding Flows</a></li>
<li><a href="7.3-strategy-implementation-3.html#ranking-countries-1" id="toc-ranking-countries-1"><span class="toc-section-number">7.3.2</span> Ranking Countries</a></li>
<li><a href="7.3-strategy-implementation-3.html#model-3" id="toc-model-3"><span class="toc-section-number">7.3.3</span> Model</a></li>
<li><a href="7.3-strategy-implementation-3.html#section" id="toc-section"></a></li>
<li><a href="7.3-strategy-implementation-3.html#preformance-3" id="toc-preformance-3"><span class="toc-section-number">7.3.4</span> Preformance</a></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="daily-percentage-flow-3" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Daily Percentage Flow</h2>
<p>The <em>Flow-Percentage DM Rates Strategy</em> developed by EPFR Global is based on percentage flow into countries via cross-border funds. In this section, the reader will understand what types of aggregations can be used to create a signal for this strategy as well as the methodology behind daily percentage flow calculations. Understanding these fundamentals will further supplement a user’s experience working with these data sets as they continue exploring for value and underlying meaning.</p>
<hr />
<div id="aggregations-4" class="section level3" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Aggregations</h3>
<p>The first step is defining a subset of data to capture in calculating our signal. We use bond funds with a cross-border focus for this strategy.</p>
<ul>
<li>Cross-boarder focus: includes global funds, regional funds, Europe regional investing in different countries in Europe, essentially any fund that has a mandate that spans more than one country.</li>
</ul>
<p>We exclude the single country-mandated fund flows from this analysis.</p>
<p>The following requirement is that the subset of <strong>funds must all be reporting daily flows and country allocations</strong> since these values are needed to calculate Daily Percentage Flow.</p>
<p>The figure below shows EPFR’s coverage over time, which is reported at the end of July each year. As seen below, cross-border bond funds, which report their country allocations and their fund flows, are a subset of those that only report their fund flows to EPFR.</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/oliviablasz/EPFRNotebooks_v1/main/png/coverage_ctryequity.png" width="250" alt="" />
<p class="caption">Coverage Equity</p>
</div>
<p>Users looking for more specific detail can customize this aggregation even further using EPFR’s fund-level or share class-level granularity. Some good examples would be Active/Passive, ETF or Mutual funds, Institituinal or Retail. Users can use these tags to different degrees in creating aggregated signals to backtest.</p>
<p>This can be achieved using fund-level flow files or reaching out to EPFR’s quant team for customized aggregations.</p>
<hr />
</div>
<div id="calculation-4" class="section level3" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Calculation</h3>
<p>To begin calculating the Daily Percentage flow, we start with our subset of cross-border bond funds. To calculate the fund’s impact on a country, we scale a fund’s flow by multiplying it against its stated country allocation, which is available in EPFR’s Country Allocation Database, on that day. EPFR releases country allocations of all funds on the <span class="math inline">\(23^{\text{rd}}\)</span> of each month (or the next available business day) at a monthly frequency. Hence, our calculation assumes constant country allocation between two consecutive release dates within the month.</p>
<p>We then apply the same procedure to all funds with a fund flow and country allocation information and then sum the flows for each country across all funds.</p>
<p><span class="math display">\[\text{Total Impact}_{c,t} = \sum^{N}_{i=m}{\text{Flow}_i \times \text{Allocation}_i}\]</span>
Where:</p>
<ul>
<li><span class="math inline">\(\text{Total Impact}\)</span> = the impact on a country <span class="math inline">\(c\)</span>, across all funds <span class="math inline">\(i\)</span>, for day <span class="math inline">\(t\)</span></li>
</ul>
<p>Additionally, we repeat the process across the same fund’s Assets held under Management (AuM), to get the total AuM held in a country.</p>
<p><span class="math display">\[\text{Total AuM}_{c,t} = \sum^{N}_{i=m}{\text{AuM}_i \times \text{Allocation}_i}\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(\text{Total AuM}\)</span> = the assets held in a country <span class="math inline">\(c\)</span>, across all funds <span class="math inline">\(i\)</span>, for day <span class="math inline">\(t\)</span></li>
</ul>
<p>Finally, to find the daily percentage flow for a country, we divide the Total Impact by the Total AuM. Then we repeat this across all different countries for the entire history.</p>
<p><span class="math display">\[\text{Percentage Flow}_{c,t} = \frac{\text{Total Impact}_{c,t}}{\text{Total AuM}_{c,t}}\]</span>
Where:</p>
<ul>
<li><span class="math inline">\(\text{Percentage Flow}\)</span> = the scaled flow as a percentage into a country <span class="math inline">\(c\)</span>, across all funds <span class="math inline">\(i\)</span>, for day <span class="math inline">\(t\)</span></li>
</ul>
<hr />
</div>
<div id="flow-file-4" class="section level3" number="7.2.3">
<h3><span class="header-section-number">7.2.3</span> Flow File</h3>
<p>The users may create flow percentages for their desired country aggregations and granularity using the methodology described in the previous section.</p>
<p>EPFR also provides a pre-calculated aggregation for its users for the <em>Flow-Percentage DM Strategy</em>. This file can be found on the FTP under the strategies folder. Please refer to the FTP Folder Structure section for the exact location of this file. This file contains daily cross-border bond fund flow data for 52 countries and is updated daily at 5:00 PM est. with a T+1 day lag.</p>
<p>For this demonstration, we use the pre-calculated file <strong>FloPctCtry-B-daily.csv</strong>. We will download this file from the ftp using <code>ftp.get()</code>, more about this function can be refered to in section <a href="2.2-rcurl.html#rcurl">2.2</a>.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="7.2-daily-percentage-flow-3.html#cb70-1" aria-hidden="true" tabindex="-1"></a>file <span class="ot">&lt;-</span> <span class="st">&quot;EPFRHistory/Strategies/daily/FloPctCtry-B-daily.csv&quot;</span> <span class="co"># PATH TO .csv FILE</span></span>
<span id="cb70-2"><a href="7.2-daily-percentage-flow-3.html#cb70-2" aria-hidden="true" tabindex="-1"></a>fldr <span class="ot">&lt;-</span> <span class="st">&quot;C:</span><span class="sc">\\</span><span class="st">temp&quot;</span> <span class="co"># LOCAL FOLDER</span></span>
<span id="cb70-3"><a href="7.2-daily-percentage-flow-3.html#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="7.2-daily-percentage-flow-3.html#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ftp.get</span>(file, fldr, <span class="st">&quot;filetransport.epfrglobal.com&quot;</span>, <span class="at">w =</span> <span class="st">&quot;username&quot;</span>, <span class="at">h =</span> <span class="st">&quot;password&quot;</span>, <span class="st">&quot;ftp&quot;</span>) <span class="co"># DOWNLOADS FILE FROM FTP TO LOCAL FOLDER, USING CREDENTIALS</span></span></code></pre></div>
<p>After downloading the csv file you will store it’s path as <code>flow.file</code>. A quick way to do this is shown below:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="7.2-daily-percentage-flow-3.html#cb71-1" aria-hidden="true" tabindex="-1"></a>flow.file <span class="ot">&lt;-</span> <span class="fu">paste</span>(fldr, <span class="fu">ftp.file</span>(file), <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">&quot;</span>) <span class="co"># STORES FLOW FILE PATH, C:\\temp\\FloPctCtry-B-daily.csv</span></span></code></pre></div>
<p><span style="color: red;">Example? Clean up/filter files here?</span></p>
<hr />
</div>
<div id="return-file-5" class="section level3" number="7.2.4">
<h3><span class="header-section-number">7.2.4</span> Return File</h3>
<p>The return file for this strategy should contain daily cross-border bond fund returns for each of the countries in the flow file, which the user can find using their own resources.</p>
<p>EPFR also provides Fund Return data, that can be used as a proxy to returns. To create a return file using EPFR daily flow data, the following equation can be used:</p>
<p><span class="math display">\[\text{Fund Return}_{c,t} = \frac{\sum^{N}_{i=m} \text{Portfolio Change}_i}{\sum^{N}_{i=m} \text{Assets Start}_i}\]</span>
Where:</p>
<ul>
<li><span class="math inline">\(\text{Fund Return}\)</span> = the return value of country <span class="math inline">\(c\)</span>, across all funds <span class="math inline">\(i\)</span>, for day <span class="math inline">\(t\)</span></li>
</ul>
<p>For this demonstration, we will the file which has been locally named <em>g10rates.csv</em>.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="7.2-daily-percentage-flow-3.html#cb72-1" aria-hidden="true" tabindex="-1"></a>ret.file <span class="ot">&lt;-</span> <span class="st">&quot;g10rates.csv&quot;</span></span></code></pre></div>
<p><span style="color: red;">Example?</span></p>
<hr />
</div>
</div>
<p style="text-align: center;">
<a href="7.1-overview-4.html"><button class="btn btn-default">Previous</button></a>
<a href="7.3-strategy-implementation-3.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
